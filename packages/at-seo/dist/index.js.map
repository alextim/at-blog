{"version":3,"file":"index.js","sources":["../src/getWebSiteSchema.js","../src/getPageSchema.js","../src/getOrganizationSchema.js","../src/getBreadcrumbsSchema.js","../src/SeoBase.jsx"],"sourcesContent":["const getWebSiteSchema = ({ siteUrl, siteTitle, siteDescription, htmlLang }) => ({\r\n  '@context': 'https://schema.org',\r\n  '@type': 'WebSite',\r\n  '@id': `${siteUrl}/#WebSite`,\r\n  url: siteUrl,\r\n  name: siteTitle,\r\n  description: siteDescription,\r\n  inLanguage: htmlLang,\r\n});\r\n\r\nexport default getWebSiteSchema;\r\n","const getAuthor = (a) => {\r\n  if (!a || !a.length) {\r\n    return false;\r\n  }\r\n  return a.map((name) => ({\r\n    '@type': 'Person',\r\n    name,\r\n    // TODO: add URL of author profile\r\n    // url: 'http://example.com/profile/janedoe123'\r\n  }));\r\n};\r\n\r\nconst getPageSchema = ({\r\n  organizationName,\r\n  siteUrl,\r\n  siteLogo,\r\n  URL,\r\n  title,\r\n  headline,\r\n  htmlLang,\r\n  imgURL,\r\n  datePublished,\r\n  dateModified,\r\n  pageType,\r\n  publisher,\r\n  author,\r\n}) => {\r\n  const type =\r\n    !pageType || !['Article', 'BlogPosting', 'Blog'].some((t) => pageType === t)\r\n      ? 'WebPage'\r\n      : pageType;\r\n  const isArticle = pageType === 'Article' || pageType === 'BlogPosting';\r\n\r\n  const o = {\r\n    '@context': 'https://schema.org',\r\n    '@type': type,\r\n    name: title,\r\n    inLanguage: htmlLang,\r\n    publisher: publisher || {\r\n      '@type': 'Organization',\r\n      name: organizationName,\r\n      url: siteUrl,\r\n      logo: {\r\n        '@type': 'ImageObject',\r\n        url: siteLogo,\r\n      },\r\n    },\r\n  };\r\n\r\n  if (isArticle) {\r\n    o.author = getAuthor(author) || o.publisher;\r\n    o.mainEntityOfPage = {\r\n      '@type': 'WebPage',\r\n      '@id': URL,\r\n    };\r\n    o.headline = headline;\r\n    if (datePublished) {\r\n      o.datePublished = datePublished;\r\n    }\r\n    if (dateModified) {\r\n      o.dateModified = dateModified;\r\n    }\r\n  } else {\r\n    o.url = URL;\r\n    o.description = headline;\r\n  }\r\n\r\n  if (imgURL) {\r\n    o.image = imgURL;\r\n  }\r\n\r\n  return o;\r\n};\r\n\r\nexport default getPageSchema;\r\n","import utils from '@alextim/utils';\r\n\r\nconst weekDays = {\r\n  mo: 'Monday',\r\n  tu: 'Tuesday',\r\n  we: 'Wednesday',\r\n  th: 'Thursday',\r\n  fr: 'Friday',\r\n  sa: 'Saturday',\r\n  su: 'Sunday',\r\n};\r\n\r\n/*\r\nconst getOpeningHours = (openingHours, dows) => {\r\n  const parseDow = (s) => {\r\n    if (!s) {\r\n      return '';\r\n    }\r\n    const dow = s.split('-');\r\n    if (dow.length === 1) {\r\n      return dows[s];\r\n    }\r\n    return `${dows[dow[0]]}-${dows[dow[1]]}`;\r\n  };\r\n  const a = openingHours.reduce(\r\n    (acc, [dow, timeStart, timeFinish]) =>\r\n      `${acc}${acc ? ', ' : ''}${parseDow(dow)}: ${timeStart}-${timeFinish}`,\r\n    '',\r\n  );\r\n  return a.length === 1 ? a[0] : a;\r\n};\r\n*/\r\nconst getOpeningHoursSpecification = (openingHours) => {\r\n  const parseDow = (s) => {\r\n    if (!s) {\r\n      return undefined;\r\n    }\r\n\r\n    let dow = s.split('-');\r\n    if (dow.length > 1) {\r\n      const d1 = dow[0].trim();\r\n      const d2 = dow[1].trim();\r\n      const keys = Object.keys(weekDays);\r\n      const a = [];\r\n      let first = false;\r\n      let last = false;\r\n      keys.forEach((d) => {\r\n        if (d === d1) {\r\n          first = true;\r\n          a.push(weekDays[d]);\r\n        } else if (d === d2) {\r\n          last = true;\r\n          a.push(weekDays[d]);\r\n        } else if (first && !last) {\r\n          a.push(weekDays[d]);\r\n        }\r\n      });\r\n      return a;\r\n    }\r\n\r\n    dow = s.split(',');\r\n    if (dow.length > 1) {\r\n      return dow.map((d) => weekDays[d.trim()]);\r\n    }\r\n    return weekDays[s.trim()];\r\n  };\r\n\r\n  return openingHours.map(([dow, timeStart, timeFinish]) => ({\r\n    '@type': 'OpeningHoursSpecification',\r\n    dayOfWeek: parseDow(dow),\r\n    opens: timeStart,\r\n    closes: timeFinish,\r\n  }));\r\n};\r\n\r\nconst getOrganizationSchema = ({\r\n  orgContacts,\r\n  orgAddress = {},\r\n  config,\r\n  /* dows,  */\r\n  socialLinks,\r\n}) => {\r\n  const {\r\n    organizationType,\r\n    geo,\r\n    openingHours,\r\n    phone: organizationPhone,\r\n    email: organizationEmail,\r\n    hasMap,\r\n    priceRange,\r\n    currenciesAccepted,\r\n    paymentAccepted,\r\n  } = orgContacts;\r\n\r\n  const {\r\n    name: organizationName,\r\n    legalName,\r\n    alternateName,\r\n    description,\r\n    postalAddress,\r\n    contactPoint,\r\n  } = orgAddress;\r\n\r\n  const schema = {\r\n    '@context': 'https://schema.org',\r\n    '@type': organizationType,\r\n    '@id': `${config.siteUrl}/#Organization`,\r\n    name: organizationName,\r\n    description,\r\n    url: config.siteUrl,\r\n    logo: config.siteLogo,\r\n  };\r\n  if (config.siteBusinessPhoto) {\r\n    schema.image = Array.isArray(config.siteBusinessPhoto)\r\n      ? [...config.siteBusinessPhoto]\r\n      : config.siteBusinessPhoto;\r\n  }\r\n\r\n  if (postalAddress) {\r\n    const o = {\r\n      '@type': 'PostalAddress',\r\n      ...postalAddress,\r\n    };\r\n    if (postalAddress.streetAddress) {\r\n      o.streetAddress = postalAddress.streetAddress.join(', ');\r\n    }\r\n    delete o.addressCountryName;\r\n    schema.address = o;\r\n  }\r\n\r\n  if (legalName) {\r\n    schema.legalName = legalName;\r\n  }\r\n  if (alternateName) {\r\n    schema.alternateName = alternateName;\r\n  }\r\n\r\n  if (organizationPhone) {\r\n    schema.telephone = utils.formatPhone(organizationPhone[0]);\r\n  }\r\n  if (organizationEmail) {\r\n    schema.email = organizationEmail[0];\r\n  }\r\n\r\n  if (geo) {\r\n    schema.geo = {\r\n      '@type': 'GeoCoordinates',\r\n      ...geo,\r\n    };\r\n  }\r\n\r\n  if (contactPoint) {\r\n    schema.contactPoint = contactPoint.map(\r\n      ({ name, contactType, telephone, email, areaServed }) => {\r\n        const o = {\r\n          '@type': 'ContactPoint',\r\n          name,\r\n          contactType,\r\n        };\r\n        if (telephone) {\r\n          o.telephone = telephone.reduce(\r\n            (acc, curr) => `${acc}${acc ? ', ' : ''}${utils.formatPhone(curr)}`,\r\n            '',\r\n          );\r\n        }\r\n        if (email) {\r\n          o.email = email.join();\r\n        }\r\n        if (areaServed) {\r\n          o.areaServed = areaServed;\r\n        }\r\n        return o;\r\n      },\r\n    );\r\n  }\r\n\r\n  if (socialLinks) {\r\n    schema.sameAs = Object.keys(socialLinks).map((key) => socialLinks[key].to);\r\n  }\r\n\r\n  if (currenciesAccepted) {\r\n    schema.currenciesAccepted = currenciesAccepted;\r\n  }\r\n  if (paymentAccepted) {\r\n    schema.paymentAccepted = paymentAccepted;\r\n  }\r\n  if (priceRange) {\r\n    schema.priceRange = priceRange;\r\n  }\r\n\r\n  if (Array.isArray(openingHours)) {\r\n    /*\r\n    if (dows) {\r\n      schema.openingHours = getOpeningHours(openingHours, dows);\r\n    }\r\n    */\r\n    schema.openingHoursSpecification = getOpeningHoursSpecification(openingHours);\r\n  }\r\n\r\n  if (hasMap) {\r\n    schema.hasMap = hasMap;\r\n  }\r\n\r\n  return schema;\r\n};\r\n\r\nexport default getOrganizationSchema;\r\n","const getBreadcrumbsSchema = ({ breadcrumbs, siteUrl }) => ({\r\n  '@context': 'https://schema.org',\r\n  '@type': 'BreadcrumbList',\r\n  'itemListElement': breadcrumbs.map(({ to, title: name }, i) => ({\r\n    '@type': 'ListItem',\r\n    'position': i + 1,\r\n    name,\r\n    item: siteUrl + to,\r\n  })),\r\n});\r\n\r\nexport default getBreadcrumbsSchema;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nimport getWebSiteSchema from './getWebSiteSchema';\r\nimport getPageSchema from './getPageSchema';\r\nimport getOrganizationSchema from './getOrganizationSchema';\r\nimport getBreadcrumbsSchema from './getBreadcrumbsSchema';\r\n\r\nconst SeoBase = ({\r\n  config,\r\n  siteMeta,\r\n  i18n,\r\n  orgContacts,\r\n  orgAddress,\r\n  socialLinks,\r\n  title,\r\n  keywords,\r\n  headline,\r\n  description,\r\n  locale,\r\n  pathname,\r\n  pageType,\r\n  imgPath,\r\n  datePublished,\r\n  dateModified,\r\n  author,\r\n  breadcrumbs,\r\n  tags,\r\n  canonical,\r\n  noindex,\r\n  metas,\r\n  links,\r\n}) => {\r\n  const isRoot = pathname === '/';\r\n\r\n  const URL = `${config.siteUrl}${pathname}`;\r\n  const homeURL = i18n ? `${config.siteUrl}${i18n.localizePath('/', locale)}` : URL;\r\n\r\n  let imgURL;\r\n  if (imgPath) {\r\n    imgURL = `${config.siteUrl}${imgPath}`;\r\n  }\r\n\r\n  const purePath = i18n ? i18n.purePath(pathname) : pathname;\r\n\r\n  const ogImage = { ...config.ogImage, src: `${config.ogImage.src}${locale}.jpg` };\r\n  const twitterImage = { ...config.twitterImage, src: `${config.twitterImage.src}${locale}.jpg` };\r\n\r\n  const { htmlLang, ogLocale, siteTitle, siteDescription } = siteMeta;\r\n\r\n  const isArticle = pageType === 'Article' || pageType === 'BlogPosting';\r\n\r\n  const metaTitle = title || siteTitle;\r\n  const metaDescription = description || siteDescription;\r\n\r\n  /** *\r\n   * https://developer.mozilla.org/ru/docs/Web/HTTP/Headers/Content-Language\r\n   *\r\n   * Не  используйте этот мета элемент как здесь для констатирования языка документа:\r\n   *\r\n   * <meta httpEquiv=\"content-language\" content={htmlLang} />\r\n   *\r\n   *  */\r\n  const meta = [\r\n    {\r\n      name: 'robots',\r\n      content: `${noindex ? 'no' : ''}index, follow`,\r\n    },\r\n    {\r\n      name: 'description',\r\n      content: metaDescription,\r\n    },\r\n    {\r\n      name: 'theme-color',\r\n      content: config.themeColor,\r\n    },\r\n    {\r\n      property: 'og:locale',\r\n      content: ogLocale,\r\n    },\r\n    ...(i18n?.localeCodes\r\n      .filter((code) => code !== locale)\r\n      .map((code) => ({\r\n        property: 'og:locale:alternate',\r\n        content: i18n.locales[code].ogLocale,\r\n      })) || []),\r\n  ];\r\n  if (keywords) {\r\n    meta.push(\r\n      {\r\n        name: 'keywords',\r\n        content: keywords,\r\n      });\r\n  }\r\n\r\n  const og = [\r\n    {\r\n      property: 'og:site_name',\r\n      content: i18n.locales[locale].siteShortName,\r\n    },\r\n    {\r\n      property: 'og:url',\r\n      content: URL,\r\n    },\r\n    {\r\n      property: 'og:type',\r\n      content: isArticle ? 'article' : 'website',\r\n    },\r\n    {\r\n      property: 'og:title',\r\n      content: metaTitle,\r\n    },\r\n    {\r\n      property: 'og:description',\r\n      content: metaDescription,\r\n    },\r\n    {\r\n      property: 'og:image',\r\n      content: imgURL || ogImage.src,\r\n    },\r\n    {\r\n      property: 'og:image:alt\"',\r\n      content: metaDescription,\r\n    },\r\n  ];\r\n  if (!imgURL) {\r\n    og.push(\r\n      {\r\n        property: 'og:image:width',\r\n        content: ogImage.width,\r\n      },\r\n      {\r\n        property: 'og:image:height',\r\n        content: ogImage.height,\r\n      },\r\n    );\r\n  }\r\n\r\n  if (isArticle) {\r\n    if (datePublished) {\r\n      og.push({\r\n        property: 'article:published_time',\r\n        content: datePublished,\r\n      });\r\n    }\r\n    if (dateModified) {\r\n      og.push({\r\n        property: 'article:modified_time',\r\n        content: dateModified,\r\n      });\r\n    }\r\n    if (author && author.length) {\r\n      author.forEach((name) => {\r\n        og.push({\r\n          property: 'article:author',\r\n          // TODO: change content to URL on author profile: FB or webpage\r\n          content: name,\r\n        });\r\n      });\r\n    }\r\n    if (tags && Array.isArray(tags)) {\r\n      tags.forEach((tag) => {\r\n        og.push({\r\n          property: 'article:tag',\r\n          content: tag,\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  if (config.fbAppID) {\r\n    og.push({\r\n      property: 'fb:app_id',\r\n      content: config.fbAppID,\r\n    });\r\n  }\r\n\r\n  if (socialLinks) {\r\n    if (socialLinks.facebook) {\r\n      og.push({\r\n        property: 'article:publisher',\r\n        content: socialLinks.facebook.to,\r\n      });\r\n    }\r\n    Array.prototype.push.apply(\r\n      og,\r\n      Object.keys(socialLinks).map((key) => ({\r\n        property: 'og:see_also',\r\n        content: socialLinks[key].to,\r\n      })),\r\n    );\r\n  }\r\n\r\n  const twitter = [\r\n    {\r\n      name: 'twitter:card',\r\n      content: 'summary_large_image',\r\n    },\r\n    {\r\n      name: 'twitter:title',\r\n      content: metaTitle,\r\n    },\r\n    {\r\n      name: 'twitter:description',\r\n      content: metaDescription,\r\n    },\r\n    {\r\n      name: 'twitter:image',\r\n      content: imgURL || twitterImage.src,\r\n    },\r\n    {\r\n      name: 'twitter:image:alt',\r\n      content: metaDescription,\r\n    },\r\n  ];\r\n  if (!imgURL) {\r\n    twitter.push(\r\n      {\r\n        name: 'twitter:image:width',\r\n        content: twitterImage.width,\r\n      },\r\n      {\r\n        name: 'twitter:image:height',\r\n        content: twitterImage.height,\r\n      },\r\n    );\r\n  }\r\n\r\n  if (config.twitterCreator || config.twitterSite) {\r\n    twitter.push(\r\n      {\r\n        name: 'twitter:site',\r\n        content: config.twitterSite || config.twitterCreator,\r\n      },\r\n      {\r\n        name: 'twitter:creator',\r\n        // TODO: change content to author user name on Twitter\r\n        content: config.twitterCreator || config.twitterSite,\r\n      },\r\n    );\r\n  }\r\n\r\n  const link = [\r\n    {\r\n      rel: 'author',\r\n      type: 'text/plain',\r\n      href: `${config.siteUrl}/humans.txt`,\r\n    },\r\n  ];\r\n\r\n  if (canonical) {\r\n    link.push({\r\n      rel: 'canonical',\r\n      href: URL,\r\n    });\r\n  }\r\n\r\n  if (i18n) {\r\n    Array.prototype.push.apply(\r\n      link,\r\n      i18n.localeCodes.map((code) => ({\r\n        rel: 'alternate',\r\n        hrefLang: i18n.locales[code].htmlLang,\r\n        href: `${config.siteUrl}${i18n.localizePath(purePath, code)}`,\r\n      })),\r\n    );\r\n    link.push({\r\n      rel: 'alternate',\r\n      hrefLang: 'x-default',\r\n      href: `${config.siteUrl}${purePath}`,\r\n    });\r\n  }\r\n\r\n  const scriptSrc = [\r\n    getWebSiteSchema({\r\n      siteUrl: config.siteUrl,\r\n      siteTitle,\r\n      siteDescription,\r\n      htmlLang,\r\n    }),\r\n    getPageSchema({\r\n      organizationName: orgAddress.name,\r\n      siteUrl: config.siteUrl,\r\n      siteLogo: config.siteLogo,\r\n      URL,\r\n      headline: headline || metaDescription,\r\n      metaTitle,\r\n      metaDescription,\r\n      htmlLang,\r\n      imgURL,\r\n      datePublished,\r\n      dateModified,\r\n      author,\r\n      pageType,\r\n    }),\r\n  ];\r\n\r\n  if (isRoot) {\r\n    scriptSrc.push(\r\n      getOrganizationSchema({\r\n        orgContacts,\r\n        orgAddress,\r\n        config,\r\n        homeURL,\r\n        socialLinks,\r\n    }));\r\n  }\r\n  if (!config.noBreadcrumbs && !isRoot && breadcrumbs && breadcrumbs.length) {\r\n    scriptSrc.push(\r\n      getBreadcrumbsSchema({\r\n        breadcrumbs,\r\n        siteUrl: config.siteUrl,\r\n    }));    \r\n  }\r\n  const scripts = scriptSrc.map((el) => ({\r\n    type: 'application/ld+json',\r\n    innerHTML: JSON.stringify(el),\r\n  }));\r\n\r\n  return (\r\n    <Helmet\r\n      htmlAttributes={{ lang: htmlLang }}\r\n      title={metaTitle}\r\n      meta={[...meta, ...og, ...twitter, ...(metas || [])]}\r\n      link={[...link, ...(links || [])]}\r\n      script={scripts}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SeoBase;\r\n"],"names":["getWebSiteSchema","siteUrl","siteTitle","siteDescription","htmlLang","url","name","description","inLanguage","getAuthor","a","length","map","getPageSchema","organizationName","siteLogo","URL","title","headline","imgURL","datePublished","dateModified","pageType","publisher","author","type","some","t","isArticle","o","logo","mainEntityOfPage","image","weekDays","mo","tu","we","th","fr","sa","su","getOpeningHoursSpecification","openingHours","parseDow","s","undefined","dow","split","d1","trim","d2","keys","Object","first","last","forEach","d","push","timeStart","timeFinish","dayOfWeek","opens","closes","getOrganizationSchema","orgContacts","orgAddress","config","socialLinks","organizationType","geo","organizationPhone","phone","organizationEmail","email","hasMap","priceRange","currenciesAccepted","paymentAccepted","legalName","alternateName","postalAddress","contactPoint","schema","siteBusinessPhoto","Array","isArray","streetAddress","join","addressCountryName","address","telephone","utils","formatPhone","contactType","areaServed","reduce","acc","curr","sameAs","key","to","openingHoursSpecification","getBreadcrumbsSchema","breadcrumbs","i","item","SeoBase","siteMeta","i18n","keywords","locale","pathname","imgPath","tags","canonical","noindex","metas","links","isRoot","homeURL","localizePath","purePath","ogImage","src","twitterImage","ogLocale","metaTitle","metaDescription","meta","content","themeColor","property","localeCodes","filter","code","locales","og","siteShortName","width","height","tag","fbAppID","facebook","prototype","apply","twitter","twitterCreator","twitterSite","link","rel","href","hrefLang","scriptSrc","noBreadcrumbs","scripts","el","innerHTML","JSON","stringify","Helmet","lang"],"mappings":"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"}